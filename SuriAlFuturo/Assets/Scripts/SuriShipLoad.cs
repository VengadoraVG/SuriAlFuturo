using UnityEngine;
using System.Collections;

public class SuriShipLoad : MonoBehaviour 
{
    public bool HasShipInRange;

    public GameObject ParentCharacter;


    Ship _shipInRange;



    void Start () 
    {
                
    }
	
    void Update () 
    {
        if(HasShipInRange && Input.GetButtonDown("LoadUnloadToShip")) {
            FollowCamera.Instance.Target = _shipInRange.gameObject;
            ParentCharacter.GetComponent<CharacterMovement>().IsControlledByPlayer = false;
            ParentCharacter.SetActive(false);

            _shipInRange.GetComponent<CharacterMovement>().IsControlledByPlayer = true;
            _shipInRange.LoadCharacters();
        }
	
    }


    void OnTriggerEnter(Collider coll)
    {
        HasShipInRange = true;

        Debug.Log(coll.name);

        _shipInRange = coll.gameObject.GetComponent<ShipLoadReceiver>().Ship;
    }


    void OnTriggerExit(Collider coll)
    {
        HasShipInRange = false;
        _shipInRange = null;
    }
}
